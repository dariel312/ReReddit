<div class="card subreddit-cardview form-group" ui-sref=".post({subreddit: $ctrl.post.subreddit, id:$ctrl.post.id, post: $ctrl.post})">
    <div class="card-img-top">
        <img ng-src="{{$ctrl.post.preview.images[0].source.url}}" class="card-img img-fluid mx-auto" ng-if="$ctrl.post.preview.images.length > 0  && $ctrl.post.preview.reddit_video_preview  == null && $ctrl.post.media.type != 'youtube.com'" />
        <video controls loop ng-if="$ctrl.post.preview.reddit_video_preview != null" class="img-fluid mx-auto d-block" ng-click="$event.stopPropagation()">
            <source ng-src="{{$ctrl.post.preview.reddit_video_preview.fallback_url}}">
        </video>
        <youtube-embed media="$ctrl.post.media.oembed" ng-if="$ctrl.post.media.type == 'youtube.com'"/>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col flex-grow">
                <span class="card-post-title" ng-class="{'text-muted': $ctrl.post.clicked, 'text-success' : $ctrl.post.stickied }">{{$ctrl.post.title}}</span>
                <br />
                <div>
                    Posted by <a ng-href="'www.reddit.com/u/' + $ctrl.post.author" target="_blank">/u/{{$ctrl.post.author}}</a> <span am-time-ago="$ctrl.post.created_utc | amFromUnix"></span>
                </div>
                <div class="text-muted card-misc-info">

                    <span>{{$ctrl.post.domain}}</span>
                    <span>/r/{{$ctrl.post.subreddit}}</span>
                    <span ng-if="$ctrl.post.stickied">Stickied</span>

                </div>
                <div class="card-actions">
                    <a>Comments ({{$ctrl.post.num_comments}})</a>
                </div>
            </div>

            <post-like ups="$ctrl.post.ups" name="$ctrl.post.name" />
        </div>
    </div>
</div>